---
name: semljsyn
title: Structural Equation Models
menuGroup: SEM
menuTitle: SEM (syntax)
version: '1.0.0'
jas: '1.2'
arbitraryCode: true

options:
    - name: data
      type: Data
      description:
          R: >
             TO ADD

    - name: code
      default: |
          
      type: String
      hidden: true
      description:
          R: >
             TO ADD

    # Interface for syntax input ==============================================
    - name: syntax
      type: String
      hidden: true
    - name: fonts
      type: String
      default: "small"
      hidden: true
    - name: vars
      type: Variables
      hidden: true
      permitted:
        - factor
        - numeric
        - id
    - name: toggle
      type: Bool
      default: false
      hidden: true

    # TO ADD?: input format
#    - name: inputformat
#      title: "Input data format"
#      hidden: true
#      type: List
#      options:
#        - name: dataraw
#          title: "Raw"
#        - name: varcov
#          title: "Variance-covariance matrix"
#      default: dataraw
#      description:
#          R: >
#             TO ADD
#    - name: samplesize
#      title: "– Sample size"
#      hidden: true
#      type: Integer
#      default: 0
#      description:
#          R: >
#             TO ADD


    ### OPTIONS #########

    ### Model options =========================================================
    ### (a) Estimation --------------------------------------------------------
    - name: estimator
      title: Method
      type: List
      options:
        # TO BE INCLUDED? (available in JASP-SEM)
#       - name: default
#         title: "Auto"
        - name:  ML
          title: Maximum Likelihood
        - name: GLS
          title: Generalized Least Squares
        - name: WLS
          title: Weighted Least Squares
        - name: DWLS
          title: Diagonally weighted Least Squares
        - name: ULS
          title: Unweighted Least Squares
#       - name: PML
#         title: "Pairwise maximum likelihood"
      default: ML
      description:
          R: >
             TO ADD

    - name: likelihood
      title: ML likelihood approach
      type: List
      options:
        - name: normal
          title: Normal
        - name:  wishart
          title: Wishart
      default: normal
      description:
          R: >
             TO ADD

    # TO BE INCLUDED? (available in JASP-SEM)
#   - name: std.ov
#     type: Bool
#     title: "Standardize variables before estimation"
#     default: false
#     description:
#         R: >
#            TO ADD

    ### (b) Constraint Tests --------------------------------------------------
    - name: scoretest
      type: Bool
      title: Univariate
      default: true
      description:
          R: >
             TO ADD

    - name: cumscoretest
      type: Bool
      title: Cumulative
      default: false
      description:
          R: >
             TO ADD

    # TO BE INCLUDED?
#   - name: factorStandardisation
#     title: "Factor scaling"
#     type: List
#     options:
#       - name: auto.fix.first
#         title: "Factor loadings"
#       - name: std.lv
#         title: "Factor variance"
#       - name: effect.coding
#         title: "Effects coding"
#       - name: none
#         title: "None"
#      description:
#          R: >
#             TO ADD
#   - name: meanstructure
#     type: Bool
#     title: "Include mean structure"
#     default: false
#     description:
#         R: >
#            TO ADD
#   - name: orthogonal
#     type: Bool
#     title: "Assume factors uncorrelated"
#     default: false
#     description:
#         R: >
#            TO ADD


    ### Parameter options =====================================================
    ### (a) Standard errors ---------------------------------------------------
    - name: se
      title: Standard errors
      type: List
      options:
        - name: standard
          title: Standard
        - name: robust.sem
          title: Robust
        - name: robust.huber.white
          title: Pseudo ML
        - name: boot
          title: Bootstrap
      default: standard
      description:
          R: >
            TO ADD

    ### (b) Bootstrap options -------------------------------------------------
    - name: bootci
      title: Bootstrap C.I
      type: List
      options:
        - name: perc
          title: percentiles
        - name: bca.simple
          title: adjusted bias-corrected
        - name: norm
          title: normal
        - name: basic
          title: basic
      default: perc
      description:
          R: >
            choose the confidence interval type ("perc" - percentiles [default], "bca.simple" - adjusted bias-corrected, "norm" - normal, "basic" - basic)
    - name: bootN
      title: Bootstrap Rep.
      type: Number
      min: 50
      default: 1000
      description:
          R: >
            number of bootstrap samples for estimating confidence intervals

    ### (c) Confidence intervals ----------------------------------------------
    - name: ci
      title: Show
      type: Bool
      default: true
      description:
          R: >
            `TRUE` or `FALSE` (default), show confidence intervals
    - name: ciWidth
      title: Confidence level
      type: Number
      min: 50
      max: 99.9
      default: 95
      description:
          R: >
            a number between 50 and 99.9 (default: 95) specifying the confidence
            interval width for the parameter estimates

    ### (d) Estimates ---------------------------------------------------------
    - name: intercepts
      title: Estimates intercepts
      type: Bool
      default: true
      description:
          R: >
            `TRUE` or `FALSE` (default), show intercepts

    - name: showintercepts
      title: Show intercepts estimates
      type: Bool
      default: true
      description:
          R: >
            `TRUE` or `FALSE` (default), show intercepts

    - name: indirect
      title: Indirect Effects
      type: Bool
      default: false
      description:
          R: >
            `TRUE` or `FALSE` (default), show intercepts

    ### (e) Latent scale ------------------------------------------------------
    - name: auto.fix.first
      title: Fix first indicator
      type: Bool
      default: true
      description:
          R: >
            `TRUE` or `FALSE`

    - name: std.lv
      title: Standardized
      type: Bool
      default: false
      description:
          R: >
            `TRUE` or `FALSE`

    ### (f) Miscellaneous -----------------------------------------------------
    # TO-DO: find a better name than miscellaneous; perhaps: Constraints
    - name: cov_x
#   - name: fixed.x (lavOpt)
      title: Fix exogenous covariates
      type: Bool
      default: true
      description:
          R: >
            `TRUE` (default) or `FALSE`, fix exogenous covariates

    - name: cov_y
      title: Correlated y
      type: Bool
      default: true
      description:
          R: >
            `TRUE` (default) or `FALSE`, TO ADD

    #   FURTHER OPTIONS (included in JASP-SEM)
#    - name: int.ov.fixed
#      type: Bool
#      title: "Fix manifest intercepts to zero"
#      default: false
#      description:
#          R: >
#            `TRUE` or `FALSE` (default), TO BE ADDED
#    - name: int.lv.fixed
#      type: Bool
#      title: "Fix latent intercepts to zero"
#      default: false
#      description:
#          R: >
#            `TRUE` or `FALSE` (default), TO BE ADDED
#    - name: auto.fix.single
#      type: Bool
#      title: "Omit residual single indicator"
#      default: true
#      description:
#          R: >
#            `TRUE` (default) or `FALSE`, TO BE ADDED
#    - name: auto.var
#      type: Bool
#      title: "Include residual variances"
#      default: true
#      description:
#          R: >
#            `TRUE` (default) or `FALSE`, TO BE ADDED
#    - name: auto.cov.lv.x
#      type: Bool
#      title: "Correlate exogenous latents"
#      default: true
#      description:
#          R: >
#            `TRUE` (default) or `FALSE`, TO BE ADDED
#    - name: auto.cov.y
#      type: Bool
#      title: "Correlate dependent variables"
#      default: true
#      description:
#          R: >
#            `TRUE` (default) or `FALSE`, TO BE ADDED
#    - name: auto.th
#      type: Bool
#      title: "Add thresholds"
#      default: true
#      description:
#          R: >
#            `TRUE` (default) or `FALSE`, TO BE ADDED
#    - name: auto.delta
#      type: Bool
#      title: "Add scaling parameters"
#      default: true
#      description:
#          R: >
#            `TRUE` (default) or `FALSE`, TO BE ADDED
#    - name: auto.efa
#      type: Bool
#      title: "Constrain EFA blocks"
#      default: true
#      description:
#          R: >
#            `TRUE` (default) or `FALSE`, TO BE ADDED


    ### Multigroup options / equality constraints =============================
    - name: multigroup
      title: ""
      type: String
      description:
          R: >
            string (default=""), the separate models (one for each level / group in the variable) are fit, instead of fitting the same model for the whole dataset (all groups)
    # TO ADD: change text field into drop-down / list box
#    - name: multigroup
#      title: ""
#      type: List
#      options:
#        - name: no_choice
#          title: "not chosen"
#      default: no_choice
#      description:
#          R: >
#            string (default=""), the separate models (one for each level / group in the variable) are fit, instead of fitting the same model for the whole dataset (all groups)
    - name: eq_loadings
      type: Bool
      title: "Loadings"
      default: false
      description:
          R: >
            `TRUE` or `FALSE` (default), constrain the factor loadings to be equal across groups (when conducting multi-group analyses)
    - name: eq_intercepts
      type: Bool
      title: "Intercepts"
      default: false
      description:
          R: >
            `TRUE` or `FALSE` (default), constrain the intercepts of the observed variables to be equal across groups (when conducting multi-group analyses)
    - name: eq_residuals
      type: Bool
      title: "Residuals"
      default: false
      description:
          R: >
            `TRUE` or `FALSE` (default), constrain the residual variances of the observed variables to be equal across groups (when conducting multi-group analyses)
    - name: eq_residual.covariances
      type: Bool
      title: "Residual covariances"
      default: false
      description:
          R: >
            `TRUE` or `FALSE` (default), constrain the residual covariances of the observed variables to be equal across groups (when conducting multi-group analyses)
    - name: eq_means
      type: Bool
      title: "Means"
      default: false
      description:
          R: >
            `TRUE` or `FALSE` (default), constrain the intercepts / means of the latent variables to be equal across groups (when conducting multi-group analyses)
    - name: eq_thresholds
      type: Bool
      title: "Threshold"
      default: false
      description:
          R: >
            `TRUE` or `FALSE` (default), constrain the sample-based thresholds (means for continuous observed mvariables) to be equal across groups (when conducting multi-group analyses)
    - name: eq_regressions
      type: Bool
      title: "Regressions"
      default: false
      description:
          R: >
            `TRUE` or `FALSE` (default), constrain all regression coefficients in the model to be equal across groups (when conducting multi-group analyses)
    - name: eq_lv.variances
      type: Bool
      title: "Latent variances"
      default: false
      description:
          R: >
            `TRUE` or `FALSE` (default), constrain the (residual) variances of the latent variables to be equal across groups (when conducting multi-group analyses)
    - name: eq_lv.covariances
      type: Bool
      title: "Latent covariances"
      default: false
      description:
          R: >
            `TRUE` or `FALSE` (default), constrain the (residual) covariances of the latent variables to be equal across groups (when conducting multi-group analyses)


    ### Output options ========================================================
    - name: showlabels
      type: Bool
      title: Show parameters labels
      default: false
      description:
          R: >
            `TRUE` or `FALSE` (default), show the labels of the parameters in the model
    - name: constraints_examples
      type: Bool
      title: Show syntax examples
      default: false
      description:
          R: >
            `TRUE` or `FALSE` (default), show examples of the lavaan model syntax

    ### (a) Additional outputs ------------------------------------------------
    - name: outputAdditionalFitMeasures
      type: Bool
      title: "Additional fit measures"
      default: false
      description:
          R: >
            `TRUE` or `FALSE` (default), show additional fit measures (e.g., CFI, TLI, etc.)
    - name: outputRSquared
      type: Bool
      title: "R² (endogenous vars.)"
      default: false
      description:
          R: >
            `TRUE` or `FALSE` (default), show R²-values for the endogenous variables
    - name: outputMardiasCoefficients
      type: Bool
      title: "Mardia's coefficients"
      default: false
      description:
          R: >
            `TRUE` or `FALSE` (default), show Mardia's coefficients for multivariate skewness and kurtosis

    ### (b) Covariances and correlations --------------------------------------
    - name: outputObservedCovariances
      type: Bool
      title: "observed"
      default: false
      description:
          R: >
            `TRUE` or `FALSE` (default), show the covariances and correlations between the observed values of the (manifest) variables
    - name: outputImpliedCovariances
      type: Bool
      title: "model-implied (fitted)"
      default: false
      description:
          R: >
            `TRUE` or `FALSE` (default), show the covariances and correlations between the model-implied / fitted values of the (manifest) variables
    - name: outputResidualCovariances
      type: Bool
      title: "residual"
      default: false
      description:
          R: >
            `TRUE` or `FALSE` (default), show the covariances and correlations between the residuals of the (manifest) variables
    - name: outpuCombineCovariances
      type: Bool
      title: "combined into one table"
      default: false
      description:
          R: >
            `TRUE` or `FALSE` (default), combine the (up to) three covariance / correlation tables into one table (i.e., showing observed, model-implied and residual values for each variable combination underneath each other)

    ### (c) Modification indices ----------------------------------------------
    - name: outputModificationIndices
      type: Bool
      title: "Modification indices"
      default: false
      description:
          R: >
            `TRUE` or `FALSE` (default), show modification indices for if certain terms were removed from the model
    - name: miHideLow
      type: Bool
      title: "Hide low indices"
      default: false
      description:
          R: >
            `TRUE` or `FALSE` (default), hide modification indices below a certain threshold
    - name: miThreshold
      type: Number
      title: "Threshold"
      default: 10
      min: 0
      description:
          R: >
            numeric (default: 10), set a threshold the modification indices must exceed in order to be shown


    ### Path diagram ==========================================================
    ### (a) Enable diagram, residuals and intercept ---------------------------
    - name: diagram
      title: ""
      type: Bool
      default: false
      description:
          R: >
            `TRUE` or `FALSE` (default), produce a path diagram
    - name: diag_resid
      title: show residuals
      type: Bool
      default: false
      description:
          R: >
            `TRUE` or `FALSE` (default), show the residuals (for the observed variables)
    - name: diag_intercepts
      title: show intercepts
      type: Bool
      default: false
      description:
          R: >
            `TRUE` or `FALSE` (default), show the variable intercepts

    ### (b) Paths -------------------------------------------------------------
    - name: diag_paths
      title: Paths Labels
      type: List
      options:
        - name:  est
          title: Coefficients
        - name: stand
          title: Betas
        - name: name
          title: Labels
        - name: hide
          title: None
      default: est
      description:
          R: >
             Choose the values shown along the paths ("est" [coeffic., default], "stand" [betas], "name" [labels], "hide" [nothing])

    ### (c) Layout ------------------------------------------------------------
    - name: diag_type
      title: Type
      type: List
      options:
        - name:  "tree"
          title: Tree-like
        - name:  "tree2"
          title: Tree-like alt.
        - name: "circle"
          title: Circular
        - name: "circle2"
          title: Circular alt.
        - name: "spring"
          title: Spring
      default: "tree"
      description:
          R: >
             Choose the layout of the path diagram ("tree" [default], "tree2", "circle", "circle2", "spring")
    - name: diag_rotate
      title: Rotate
      type: List
      options:
        - name: "1"
          title: Exog. top
        - name: "2"
          title: Exog. left
        - name: "3"
          title: Exog. bottom
        - name: "4"
          title: Exog. right
      default: "2"
      description:
          R: >
             Choose the rotation of the path diagram (placement of the exog. variables; "1": top, "2": left (default), "3": bottom, "4": right)

    ### (d) Nodes -------------------------------------------------------------
    - name: diag_labsize
      title: Node Size
      type: List
      options:
        - name: "small"
          title: Small
        - name: "medium"
          title: Medium
        - name: "large"
          title: Large
        - name: "vlarge"
          title: Very Large
      default: "medium"
      description:
          R: >
             Choose the node size for the variables (default: "medium")
    - name: diag_shape_man
      title: Manifest shapes
      type: List
      options:
        - name:  "rectangle"
          title:  Rectangles
        - name:  "square"
          title:  Squares
        - name: "circle"
          title: Circles
        - name: "ellipse"
          title: Ellipses
        - name: "diamond"
          title: Diamonds
      default: "rectangle"
      description:
          R: >
             Choose the shape for the manifest variables (default: "rectangle")
    - name: diag_shape_lat
      title: Latent shapes
      type: List
      options:
        - name: "circle"
          title: Circles
        - name:  "rectangle"
          title:  Rectangles
        - name:  "square"
          title:  Squares
        - name: "ellipse"
          title: Ellipses
        - name: "diamond"
          title: Diamonds
      default: "circle"
      description:
          R: >
             Choose the shape for the latent variables (default: "circle")
    - name: diag_abbrev
      title: Abbreviate
      type: List
      options:
        - name:  "0"
          title:  No abbrev.
        - name:  "5"
          title:  "5"
        - name:  "10"
          title:  "10"
        - name:  "15"
          title:  "15"
        - name:  "20"
          title:  "20"
        - name:  "25"
          title:  "25"
      default: "5"
      description:
          R: >
             Choose the length (characters) of the variable name abbreviations (default: 5)

...
